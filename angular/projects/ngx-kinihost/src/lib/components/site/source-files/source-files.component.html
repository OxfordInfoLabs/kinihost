<div class="grid grid-desktop my3 px1">

    <ng-template [ngIf]="site">

        <h4 class="ml1">Site manager: {{site.title}} | <span>Source Files</span></h4>

        <div *ngIf="initialLoad" class="initial-load">
            <mat-spinner diameter="50"></mat-spinner>
        </div>

        <ng-template [ngIf]="!initialLoad">
            <mat-tree [dataSource]="dataSource" [treeControl]="treeControl">
                <mat-tree-node *matTreeNodeDef="let node" matTreeNodePadding>
                    <button mat-icon-button>
                        <mat-icon>description</mat-icon>
                    </button>
                    {{node.item.leafName}}
                </mat-tree-node>
                <mat-tree-node *matTreeNodeDef="let node; when: hasChild" matTreeNodePadding>
                    <button mat-icon-button
                            [attr.aria-label]="'toggle ' + node.filename" matTreeNodeToggle>
                        <mat-icon class="mat-icon-rtl-mirror">
                            {{treeControl.isExpanded(node) ? 'folder_open' : 'folder'}}
                        </mat-icon>
                    </button>
                    {{node.item.leafName}}
                    <mat-progress-bar *ngIf="node.isLoading" mode="indeterminate"
                                      class="mx2"></mat-progress-bar>
                </mat-tree-node>
            </mat-tree>
        </ng-template>



    </ng-template>
</div>
